{% extends 'base.html' %}
{% block bodyblock %}

<div id="container">
    <select name="employees" id="employeeSelect">
        <option value = "none">--</option>
        {% for employee in employees %}
            <option value="{{employee.name}}">{{employee.name}}</option>
        {% endfor %}
    </select>
    <br /><br />
    {% for i in feedback %}
    <div class="feedbackContainer">
            <div class = '{{i.name}}' style = 'display: none'>
                <span class = 'infoLabel' id ="top">Date:</span> <span class='infospan' id="top">{{i.timeframe_start}}{% if i.timeframe_stop %} - {{i.timeframe_stop}}{% endif %} ({{i.timestamp}})</span><br />
                <span class = 'infoLabel' id="bottom">Feedback:</span> <span class='infospan' id="bottom">{{i.feedback|linebreaksbr}}</span><br />
            </div>
    </div>
    {% endfor %}
</div>
<script>
$('#employeeSelect').change(function(){
    var selectedEmployee = $('#employeeSelect').val()
    console.log(selectedEmployee)
    $('#container div').each(function(i){
        if($(this).attr('class')==selectedEmployee){
            $(this).css('display', 'block');
        }else if($(this).attr('class')!='feedbackContainer'){
            $(this).css('display', 'none');
        };
        console.log($(this).attr('class'));
    });
    //$('.'+selectedEmployee).css('display', 'block');
});
</script>
{% endblock %}
